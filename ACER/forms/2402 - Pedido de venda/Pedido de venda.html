<html>
<head>
	  <meta charset="UTF-8">
	<link type="text/css" rel="stylesheet" href="/portal/resources/style-guide/css/fluig-style-guide.min.css"/>
	<script type="text/javascript" src="/portal/resources/js/jquery/jquery.js"></script>
	<script type="text/javascript" src="/portal/resources/js/jquery/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/portal/resources/js/mustache/mustache-min.js"></script>
	<script type="text/javascript" src="/portal/resources/style-guide/js/fluig-style-guide.min.js" charset="utf-8"></script>
		<script type="text/javascript" src="/webdesk/vcXMLRPC.js"></script>
	<script type="text/javascript" src="custom.js"></script>
	<script type="text/javascript" src="integracoes.js"></script>
	<script type="text/javascript" src="validate.js"></script>
	<link type="text/css" rel="stylesheet"  href="table.css">


</head>
<body>
<div class="fluig-style-guide">
<form name="form" role="form">
	<input type="hidden" id="cid" name="cid">
	<input type="hidden" id="retorno" name="retorno">
	<input type="hidden" id="retornoIds" name="retornoIds">
	<input type="hidden" id="pv_apPrecoDate" name="pv_apPrecoDate" class="pv_apPrecoDate">
	<input type="hidden" id="pv_total_original" name="pv_total_original">
	<input type="hidden" id="sorder_cliente" name="sorder_cliente" value="">

	<div class="container-fluid">
		<div class="text-center">
			<h1>Pedido de vendas</h1>
			<p>Preencha o formulário para realizar um pedido de venda</p>
		</div>
	<!-- form-header -->

		<div class="row" id="form-header">

		<div class="col-md-6 col-xs-12">
			<div class="form-group">
				<label for="pv_acc_manager">Account Manager</label>
				<input type="hidden" name="pv_acc_manager"  id="pv_acc_manager" value="" class="form-control">
				<input type="text" name="pv_acc_manager_name"  id="pv_acc_manager_name" value="" class="form-control">
			</div>
		</div>
		<div class="col-md-6 col-xs-12">
			<div class="form-group">
				<label for="pv_data">Data PO</label>
				<input type="text" name="pv_data" id="pv_data" value="" class="form-control date">
			</div>
		</div>
	</div>
	<!-- form-header -->
		<!-- <div class="row col-md-6 col-xs-12 " id="divFilial" style="display:none;">
		
		</div> -->
	
	<!-- cliente -->
		<div id="form-cliente" class="row">

			<div class="col-md-12 col-xs-12"><legend>Faturamento</legend></div>
			<div class="col-md-12 col-xs-12">
			<div class="form-group">
				<label for="cliente">Cliente</label>
				<input
					    type="zoom"
					    id = "cliente"
					    name="cliente"
					    data-zoom="{
					        'displayKey':'CNOME',
					        'datasetId':'dsCliente',
					        'placeholder':'Digite o Nome do cliente',
					        'fields':[
					            {
					               'field':'CCODIGO',
					               'label':'Codigo'
					            },{
					              'field':'CNOME',
					              'label':'Nome',
					              'standard':'true'
					            },{
					              'field':'CCGC',
					              'label':'CNPJ'
								},{
									'field': 'CMUNICIPIO',
									'label' : 'Municipio'
								},{
									'field':'CENDERECO',
									'label' : 'Endereço' 
								}]
					     }"
					/>
			</div>
		
		</div>
		<div class="div-clean"><br></div>



			<div class="col-md-12 col-xs-12">
				<div class="form-group">
					<label for="pv_cli_razao">Nome Fantasia</label>
						<!-- readonly="readonly" -->
						<input type="hidden" class="form-control pv_cli" name="pv_cli" id="pv_cli">
						<input type="text" class="form-control pv_cli_razao" name="pv_cli_razao" id="pv_cli_razao">


				</div>
			</div>

			<div class="col-md-12 col-xs-12">
				<div class="form-group">
					<label for="pv_cli_endereco">Endereço</label>
					<input type="text" name="pv_cli_endereco"  id="pv_cli_endereco" value="" class="form-control">
				</div>
			</div>
			<div class="col-md-6 col-xs-12">
				<div class="form-group">
					<label for="pv_cli_cnpj">CNPJ</label>
					<div class="input-group">
						<input type="text" name="pv_cli_cnpj"  id="pv_cli_cnpj" value="" class="form-control">
						<span class="input-group-btn fluigicon">
							<button type="button"id="btZoomClientt" class="btn btn-default" onclick="zoomCliente(this);">
								<span class="fluigicon-search"></span>
							</button>
						</span>
					</div>
				</div>
			</div>
			<div class="col-md-6 col-xs-12">
				<div class="form-group">
					<label for="pv_cli_municipio">Município</label>
					<input type="text" name="pv_cli_municipio"  id="pv_cli_municipio" value="" class="form-control">
					
				</div>
			</div>
		</div>
		<!-- cliente -->
		<div class="col-md-12">
			<div class="div-clean"><br></div>
		</div>
		<!-- produtos -->
		<div id="produtos" class="row">
			<div class="col-md-12 col-xs-12"><legend>Produtos</legend></div>


			<div class="col-md-12">
				
			<table class="talbe table-striped" tablename="tbPvProdutos" id="tbPvProdutos" noaddbutton="true" nodeletebutton="true">
					<thead>
						<tr>
							<th></th>
							<!-- <th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th class="paletizar"><label>Transportadora</label></th>
							<th class="paletizar"><label>Filial</label></th>
							<th class="paletizar"><label>Volume</label></th>
							<th class="paletizar"><label>Especie</label></th>
							<th class="deleteBtn"><label>Remover</label></th>
							<th class="paletizar"><label>Dividir</label></th> -->
						</tr>
					</thead>
					<tbody class="provTBody">
						<tr>
							<td>
							<div class="col-md-12">
								<div class="col-md-3">
									<div class="form-group">
											<label>Nº Pedido</label>
										<input type="hidden" name="pv_idPEd"  id="pv_idPEd" value="">
										<input type="text" name="pv_nPedido"  id="pv_nPedido" value="" class="form-control"  >
									</div>
								</div>
								<div class="col-md-3">
									<div class="form-group">
										<!-- <input type="text" name="pv_pro_cod"  id="pv_pro_cod" value="" class="form-control"> -->
										<div class="form-group">
	
											<input type="hidden" id="pv_produto_cod" name="pv_produto_cod" class="pv_produto_cod" value="">
											<label>Código</label>
											<div class="input-group">
												<input type="text" id="pv_produto_desc" name="pv_produto_desc" class="form-control pv_pro" value="">
												<span class="input-group-btn fluigicon"><br>
													<button type="button"id="btZoomProd" class="btn btn-default" onclick="zoomProdutoCod(this);">
														<span class=" fluigicon-search"></span>
													</button>
												</span>
												<!-- <div class="input-group-btn">
													<button	class="btn btn-default"><span class="">@</span></button>
												</div> -->
											</div>
										</div>
	
									</div>
								</div>
								<!--  modelo / desc -->
								<div class="col-md-6">
									<div class="form-group">
										<label>Descrição</label>
										<div class="input-group ">
											<input type="text" name="pv_pro_modelo"  id="pv_pro_modelo" value="" class="form-control">
											<span class="input-group-btn fluigicon"><br>
												<button type="button"id="btZoomProd" class="btn btn-default" onclick="zoomProdutoDesc(this);">
													<span class="fluigicon-search"></span>
												</button>
											</span>
										</div>
									</div>
	
								</div>
								
								<div class="col-md-2">
									<div class="form-group">
											<label>Qntd PO</label>
										<input type="text" name="pv_pro_qty"  id="pv_pro_qty" value="" class="form-control" mask="#" onchange="calculaTotalProduto(this);">
									</div>
								</div>
								<div class="col-md-2">
									<div class="form-group">
										<label>Custo</label>
										<input type="text" name="pv_pro_custo"  id="pv_pro_custo" value="" class="form-control" mask="#,##9.99" onchange="calculaTotalProduto(this);">
									</div>
								</div>
	
								<div class="col-md-2">
									<div class="form-group">
										<label>Total</label>
										<input type="text" name="pv_pro_total"  id="pv_pro_total" value="" class="form-control totalPro" mask="#,##9.99">
									</div>
								</div>
								<div class="col-md-2">
									<div class="form-group">
											<label>Prioridade</label>
										<input type="number" name="pv_pro_pri"  id="pv_pro_pri" value="" class="form-control" min="1" max="4">
									</div>
								</div>
								<div class="col-md-2">
									<div class="form-group">
										<label>Data Solicitada</label>
										<input type="text" name="pv_crdd" id="pv_crdd" value="" class="form-control date">
									</div>
								</div>
								<div class="col-md-2 deleteBtn">
									<br>
										<div class="form-group">
											<button type="button" name="pv_pro_delete" id="pv_pro_delete" class="btn btn-warning" onclick="removeProClick(this);"><span class="fluigicon fluigicon-remove"></span></button>
										</div>
									</div>
							</div>
							<div class="col-md-12">
	
								<div class="paletizar col-md-3">
									<div class="form-group">
										<input type="hidden" name="pv_transCod" id="pv_transCod" value="" class="pv_transCod">
										<label>Transportadora</label>
										<div class="input-group ">
											<input type="text" name="pv_transp"  id="pv_transp" value="" class="form-control pv_transp">
											<span class="input-group-btn fluigicon">
												<button type="button"id="btZoomProd" class="btn btn-default" onclick="zoomTransp(this);">
													<span class="fluigicon-search"></span>
												</button>
											</span>
										</div>
									</div>
								</div>
								<div class="paletizar col-md-3">
									<div class="form-group">
										<label>Filial</label>
										<input type="hidden" class="pv_local" name="pv_local" id="pv_local" value="01">
										<select class="form-control pv_filial" name="pv_filial" id="pv_filial">
											<option value="04" selected>Jundiaí</option>
											<option value="06">Itajaí</option>
										</select>
									</div>
								</div>
								<div class="paletizar col-md-3">
									<div class="form-group">
										<label>Volume</label>
										<input type="text" name="pvQtdVol" id="pvQtdVol" value="" class="form-control" mask="#">
									</div>
								</div>
								<div class="paletizar col-md-2">
									<div class="form-group">
										<label>Especie</label>
										<input type="text" name="pvEspVol" id="pvEspVol" value="" class="form-control">
									</div>
								</div>
								
								<div class="paletizar col-md-1">
									<br>
									<div class="form-group">
										<button type="button" name="pv_pro_copy" id="pv_pro_copy" class="btn btn-default" onclick="copyProClick(this);"><span class="fluigicon fluigicon-copy"></span></button>
									</div>
								</div>
						</div>
						</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="col-md-12">
				<div class="pull-right">
					<button type="button" id="addFc" class="btn btn-primary" onclick="addProClick('tbPvProdutos');aplicaDates();"> <span class="fluigicon fluigicon-plus-sign"></span> Adicionar produto</button>
				</div>
			</div>
		</div>
		<!-- produtos -->
		<div class="col-md-12">
		<div class="div-clean"><br></div>
		</div>
		<!-- total -->
		<div class="row" id="total">

			<div class="col-md-6" style="display:none;">
					<div class="form-group">
						<label for="">Condição de Pagamento:</label>
						<input type="text" name="pv_condicao_pagamento"  id="pv_condicao_pagamento" value="" class="form-control">
					</div>
			</div>

				<div class="col-md-3">
					<div class="form-group">
						<label for="">Total PO R$</label>
						<input type="text" name="pv_total"  id="pv_total" value="" class="form-control" mask="#,##9.99">
					</div>
				</div>
		</div>
		<!-- total -->

		<!-- NB.MRW11.007 - PLACA MAE PARA NOTEBOOK ES1-512 ES1-512 UMA LF CPU N3540- -PRODUCTION IN CEB -->
		<div class="col-md-12"><br></div>
		<div class="col-md-12">
			<div id="retIntegrDiv" class='panel panel-default row'>
				<div class="panel-heading">Retorno integração</div>
				<div class="panel-body">
					<input type="text" id="msgRetorno"  class="form-control" name="msgRetorno">
				</div>
			</div>
		</div>

		<div class="col-md-12"><br></div>

		<div class="col-md-12" id="liberaDiv">
			<div id="liberaCreditoDiv" class='panel panel-default row'>
				<div class="panel-heading"><label for="">Liberação de Crédito</label></div>
				<div class="panel-body">
					<div class="col-md-3">
						<label for="liberaCredito">Deseja liberar crédito no sistema para o pedido de venda atual?</label>

					<div class='form-group'>
						<input type="radio" name="liberaCredito" id="liberaCredito_sim"  value="1"/>
						<label for="liberaCredito_sim">Sim</label><br>
						<input type="radio" name="liberaCredito" id="liberaCredito_nao"  value="0"/>
						<label for="liberaCredito_nao">N&atilde;o</label><br>
						<!-- <input type="radio" name="liberaCredito" id="liberaCredito_corrigir"  value="corrigir"/>
						<label for="liberaCredito_corrigir">Corrigir</label><br> -->
					</div>
				</div>
				<div class="col-md-9">

					<div class='form-group' id='liberaCreditoObsdiv'>
						<label for="liberaCreditoObs">Observações</label>
						<textarea id="liberaCreditoObs"  class="form-control" name="liberaCreditoObs" maxlength="1000"></textarea></br>
					</div>
				</div>

			</div>
		</div>
	</div>


		<div class="col-md-12"><br></div>
		<!-- aprovacao -->
		<div id="aprovdiv" class="row">
			<div class="col-md-12" >
				<input type="hidden" id="aprovacao" name="aprovacao" value="0">

				 <legend>Aprovação</legend>
					<div id="aprovGestorDiv" class=' row'>
					<div class="panel-heading">Aprovação</div>
					<div class="panel-body">
						<div class="col-md-3">
							<label for="aprovGestor">Aprova Forecast de venda?</label>

						<div class='form-group'>
							<select class="form-control" name="aprovGestor" id="aprovGestor">
								<option value="sim">Aprovar</option>
								<option value="nao">Reprovar</option>
							</select>
							<!-- <input type="radio" name="aprovGestor" id="aprovGestor_sim"  value="sim"/>
							<label for="aprovGestor_sim">Sim</label><br>
							<input type="radio" name="aprovGestor" id="aprovGestor_nao"  value="nao"/>
							<label for="aprovGestor_nao">N&atilde;o</label><br> -->
						</div>
					</div>
					<div class="col-md-9">
						<div class='form-group' id='aprovGestorObsdiv'>
							<label for="aprovGestorObs">Observações</label>
							<textarea id="aprovGestorObs"  class="form-control" name="aprovGestorObs"></textarea></br>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
		<!-- aprovacao -->
		<!-- Agendamento de entrega -->
		<div class="row" id="agendamentodiv">
			<div class="col-md-12 col-xs-12"><legend>Agendamento de Entrega</legend></div>
			<div class="col-md-12" style="display:none;">
				<div class="pull-right">
					<button type="button" id="addEntrega" class="btn btn-primary">
					<!-- onclick="addProClick('tbPvEntregas');aplicaDates();" -->
					<span class="fluigicon fluigicon-plus-sign"></span> Adicionar</button>
				</div>
			</div>
			<div class="col-md-12 col-xs-12">
				<table class="col-md-12 table" tablename="tbPvEntregas" id="tbPvEntregas" noaddbutton="true" nodeletebutton="true">
					<thead>
						<tr><td></td></tr>
					</thead>
					<tbody>
						<tr class="linhaEntrega">
							<td>
							<div class="col-md-2 col-xs-12">
									<div class="form-group">
										<label for="cproduto">N. Fiscal</label>	<br>	
										<span id="cproduto"></span>
									</div>
								</div>
								<div class="col-md-2 col-xs-12">
									<div class="form-group">
										<label for="pv_nFiscal">N. Fiscal</label>
										<input type="text" name="pv_nFiscal" id="pv_nFiscal" value="" class="form-control pv_nFiscal" mask="#">
									</div>
								</div>
								<div class="col-md-2 col-xs-12">
									<div class="form-group">
										<label for="pv_data_agenda">Data Agenda</label>
										<input type="text" name="pv_data_agenda" id="pv_data_agenda" value="" class="form-control date pv_data_entrega">
									</div>
								</div>
								<div class="col-md-2 col-xs-12">
									<div class="form-group">
										<label for="pv_horario_entrega">Horário</label>
										<input type="text" name="pv_horario_entrega" id="pv_horario_entrega" value="" class="form-control hour pv_horario_entrega">
									</div>
								</div>
								<div class="col-md-2 col-xs-12">
									<div class="form-group">
										<label for="pv_data_saida">Data Saída</label>
										<input type="text" name="pv_data_saida" id="pv_data_saida" value="" class="form-control pv_data_saida date">
									</div>
								</div>
								<div class="col-md-2 col-xs-12 dtEntrega">
									<div class="form-group">
										<label for="pv_entRealDt">Data Entrega</label>
										<input type="text" name="pv_entRealDt" id="pv_entRealDt" value="" class="form-control date pv_entRealDt">
									</div>
								</div>
								<div class="col-md-1 col-xs-12">
									<div class="form-group">
										<label for="pv_entrega_delete">Remover</label>										
										<button type="button"  id="pv_entrega_delete" class="btn btn-warning" onclick="removeEntregaClick(this);">
											<span class="fluigicon fluigicon-remove"></span>
										</button>
									</div>
								</div> 
								
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<!-- Agendamento de entrega -->
		<div class="col-md-12">
			<div class="div-clean">
				<br>
			</div>
		</div>

		<div class="row">
			<div class="col-md-12">
				<br>
			</div>

		</div>


</form>
</div>
</body>
</html>
